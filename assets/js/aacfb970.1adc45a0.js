/*! For license information please see aacfb970.1adc45a0.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[808513],{648079:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var i=t(785893),r=t(511151);const s={id:"locations",title:"Azure DevOps Locations",sidebar_label:"Locations",description:"Integrating source code stored in Azure DevOps into the Backstage catalog"},o=void 0,a={id:"integrations/azure/locations",title:"Azure DevOps Locations",description:"Integrating source code stored in Azure DevOps into the Backstage catalog",source:"@site/../docs/integrations/azure/locations.md",sourceDirName:"integrations/azure",slug:"/integrations/azure/locations",permalink:"/docs/integrations/azure/locations",draft:!1,unlisted:!1,editUrl:"https://github.com/backstage/backstage/edit/master/docs/../docs/integrations/azure/locations.md",tags:[],version:"current",frontMatter:{id:"locations",title:"Azure DevOps Locations",sidebar_label:"Locations",description:"Integrating source code stored in Azure DevOps into the Backstage catalog"},sidebar:"docs",previous:{title:"Discovery",permalink:"/docs/integrations/aws-s3/discovery"},next:{title:"Discovery",permalink:"/docs/integrations/azure/discovery"}},c={},l=[];function d(e){const n={a:"a",admonition:"admonition",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["The Azure DevOps integration supports loading catalog entities from Azure\nDevOps. Entities can be added to\n",(0,i.jsx)(n.a,{href:"/docs/features/software-catalog/configuration",children:"static catalog configuration"}),",\nor registered with the\n",(0,i.jsx)(n.a,{href:"https://github.com/backstage/backstage/tree/master/plugins/catalog-import",children:"catalog-import"}),"\nplugin."]}),"\n",(0,i.jsx)(n.p,{children:"Using a service principal:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"integrations:\n  azure:\n    - host: dev.azure.com\n      credentials:\n        - clientId: ${AZURE_CLIENT_ID}\n          clientSecret: ${AZURE_CLIENT_SECRET}\n          tenantId: ${AZURE_TENANT_ID}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Using a managed identity:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"integrations:\n  azure:\n    - host: dev.azure.com\n      credentials:\n        - clientId: ${AZURE_CLIENT_ID}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Using a personal access token (PAT):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"integrations:\n  azure:\n    - host: dev.azure.com\n      credentials:\n        - personalAccessToken: ${PERSONAL_ACCESS_TOKEN}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can use specific credentials for different Azure DevOps organizations by specifying the ",(0,i.jsx)(n.code,{children:"organizations"})," field on the credential:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"integrations:\n  azure:\n    - host: dev.azure.com\n      credentials:\n        - organizations:\n            - my-org\n            - my-other-org\n          clientId: ${AZURE_CLIENT_ID}\n          clientSecret: ${AZURE_CLIENT_SECRET}\n          tenantId: ${AZURE_TENANT_ID}\n        - organizations:\n            - another-org\n          clientId: ${AZURE_CLIENT_ID}\n        - organizations:\n            - yet-another-org\n          personalAccessToken: ${PERSONAL_ACCESS_TOKEN}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If you do not specify the ",(0,i.jsx)(n.code,{children:"organizations"})," field the credential will be used for all organizations for which no other credential is configured."]}),"\n",(0,i.jsx)(n.admonition,{title:"Note",type:"note",children:(0,i.jsxs)(n.p,{children:["An Azure DevOps provider is added automatically at startup for\nconvenience, so you only need to list it if you want to supply a\n",(0,i.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate",children:"personalAccessToken"}),",\na ",(0,i.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/devops/integrate/get-started/authentication/service-principal-managed-identity",children:"service principal"}),",\nor a ",(0,i.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/devops/integrate/get-started/authentication/service-principal-managed-identity",children:"managed identity"})]})}),"\n",(0,i.jsx)(n.p,{children:"The configuration is a structure with these elements:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"credentials"}),": (optional): A service principal, managed identity, or personal access token"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"credentials"})," element is a structure with these elements:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"organizations"}),": (optional): A list of organizations for which this credential should be used. If not specified the credential will be used for all organizations for which no other credential is configured."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"clientId"}),": The client ID of the service principal or managed identity (required for service principal and managed identities)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"clientSecret"}),": The client secret of the service principal (required for service principal)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"tenantId"}),": The tenant ID of the service principal (required for service principal)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"personalAccessToken"}),": The personal access token (required for personal access token)"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{title:"Note",type:"note",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"You cannot use a service principal or managed identity for Azure DevOps Server (on-premises) organizations"}),"\n",(0,i.jsx)(n.li,{children:"You can only use a service principal or managed identity for Microsoft Entra ID (formerly Azure Active Directory) backed Azure DevOps organizations"}),"\n",(0,i.jsx)(n.li,{children:"You can only specify one credential per host without any organizations specified"}),"\n",(0,i.jsxs)(n.li,{children:["The personal access token should just be provided as the raw token generated by Azure DevOps using the format ",(0,i.jsx)(n.code,{children:"raw_token"})," with no base64 encoding. Formatting and base64'ing is handled by dependent libraries handling the Azure DevOps API"]}),"\n"]})})]})}function p(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},675251:(e,n,t)=>{var i=t(667294),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,n,t){var i,s={},l=null,d=null;for(i in void 0!==t&&(l=""+t),void 0!==n.key&&(l=""+n.key),void 0!==n.ref&&(d=n.ref),n)o.call(n,i)&&!c.hasOwnProperty(i)&&(s[i]=n[i]);if(e&&e.defaultProps)for(i in n=e.defaultProps)void 0===s[i]&&(s[i]=n[i]);return{$$typeof:r,type:e,key:l,ref:d,props:s,_owner:a.current}}n.Fragment=s,n.jsx=l,n.jsxs=l},785893:(e,n,t)=>{e.exports=t(675251)},511151:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>o});var i=t(667294);const r={},s=i.createContext(r);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);