/*! For license information please see 8e304ce4.a62beee0.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[461772],{801064:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var s=a(785893),n=a(511151);const i={id:"v1.21.0",title:"v1.21.0",description:"Backstage Release v1.21.0"},r=void 0,o={id:"releases/v1.21.0",title:"v1.21.0",description:"Backstage Release v1.21.0",source:"@site/../docs/releases/v1.21.0.md",sourceDirName:"releases",slug:"/releases/v1.21.0",permalink:"/docs/releases/v1.21.0",draft:!1,unlisted:!1,editUrl:"https://github.com/backstage/backstage/edit/master/docs/../docs/releases/v1.21.0.md",tags:[],version:"current",frontMatter:{id:"v1.21.0",title:"v1.21.0",description:"Backstage Release v1.21.0"},sidebar:"releases",previous:{title:"v1.22.0",permalink:"/docs/releases/v1.22.0"},next:{title:"v1.20.0",permalink:"/docs/releases/v1.20.0"}},l={},c=[{value:"Highlights",id:"highlights",level:2},{value:"New Frontend System Alpha",id:"new-frontend-system-alpha",level:3},{value:"React Router Beta deprecation",id:"react-router-beta-deprecation",level:3},{value:"New PostgreSQL versioning policy",id:"new-postgresql-versioning-policy",level:3},{value:"<code>UnifiedTheme</code> Now Supports Overrides",id:"unifiedtheme-now-supports-overrides",level:3},{value:"Catalog pagination",id:"catalog-pagination",level:3},{value:"Azure DevOps Multi-Org Support",id:"azure-devops-multi-org-support",level:3},{value:"New Authentication providers",id:"new-authentication-providers",level:3},{value:"Kubernetes single cluster selection",id:"kubernetes-single-cluster-selection",level:3},{value:"BREAKING: Repo tools generated API Reports path changes",id:"breaking-repo-tools-generated-api-reports-path-changes",level:3},{value:"PagerDuty plugin changes home \ud83c\udfe1",id:"pagerduty-plugin-changes-home-",level:3},{value:"Security Fixes",id:"security-fixes",level:2},{value:"Upgrade path",id:"upgrade-path",level:2},{value:"Links and References",id:"links-and-references",level:2}];function h(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["These are the release notes for the v1.21.0 release of ",(0,s.jsx)(t.a,{href:"https://backstage.io/",children:"Backstage"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"A huge thanks to the whole team of maintainers and contributors as well as the amazing Backstage Community for the hard work in getting this release developed and done."}),"\n",(0,s.jsx)(t.h2,{id:"highlights",children:"Highlights"}),"\n",(0,s.jsx)(t.h3,{id:"new-frontend-system-alpha",children:"New Frontend System Alpha"}),"\n",(0,s.jsx)(t.p,{children:"This release marks the alpha release of the new frontend system, which has been in an experimental state since implementation began in the middle of 2023. This new system brings declarative integration of plugins, which is the ability to integrate new features into a Backstage app without writing any TypeScript code. Through this capability it also paves the way for supporting dynamic plugin installation at runtime."}),"\n",(0,s.jsxs)(t.p,{children:["The alpha release is a point of increased stability following the earlier experimental phase. There is now a complete system that lets you build out a full application, supported by ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/frontend-system/",children:"documentation"}),". From this point on any breaking changes will also be clearly marked in the changelog."]}),"\n",(0,s.jsxs)(t.p,{children:["There is still a long road ahead to a stable release, and this is not the time to migrate existing applications. There are only a few plugins that support this system so far, and if you want to add to a plugin that you own, please do so under an ",(0,s.jsx)(t.code,{children:"/alpha"})," sub-path export."]}),"\n",(0,s.jsxs)(t.p,{children:["Still, we encourage you to explore this new system to see whether you are confident in this path forward. If you have feedback or want to know more you can reach out in the #declarative-integration channel on Discord, or join an ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/community/blob/main/sigs/sig-adoption/README.md",children:"Adoption SIG"})," meeting where the new system is frequently discussed. You can also check out our ",(0,s.jsx)(t.a,{href:"https://youtu.be/ONMBYnhxnNU?t=436",children:"maintainer talk at KubeCon NA 2023"}),", where we talk about this new system and show a couple of demos."]}),"\n",(0,s.jsx)(t.h3,{id:"react-router-beta-deprecation",children:"React Router Beta deprecation"}),"\n",(0,s.jsxs)(t.p,{children:["This release of Backstage officially deprecates, but does ",(0,s.jsx)(t.em,{children:"not"})," immediately remove, support for old beta versions of ",(0,s.jsxs)(t.a,{href:"https://reactrouter.com/",children:[(0,s.jsx)(t.code,{children:"react-router"})," 6"]}),". Actual support for beta versions will be removed entirely in an upcoming release of Backstage. Please upgrade your own Backstage project as soon as possible to a stable version of ",(0,s.jsx)(t.code,{children:"react-router"}),", by ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/tutorials/react-router-stable-migration/",children:"following this guide"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"new-postgresql-versioning-policy",children:"New PostgreSQL versioning policy"}),"\n",(0,s.jsxs)(t.p,{children:["The Backstage project has now settled on ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/overview/versioning-policy/#postgresql-releases",children:"a clearer policy"})," for what versions of PostgreSQL that it supports. In short, we support the last five ",(0,s.jsx)(t.a,{href:"https://www.postgresql.org/support/versioning/",children:"released major versions"}),", and actively test against the first and last of those five, in a rolling window over time."]}),"\n",(0,s.jsxs)(t.p,{children:["As part of this, the ",(0,s.jsx)(t.code,{children:"TestDatabases"})," utility class now supports all of the last major versions of PostgreSQL in addition to the ones it supported before. You can also call ",(0,s.jsx)(t.code,{children:"TestDatabases.setDefaults"})," inside your ",(0,s.jsx)(t.code,{children:"setupTests.ts"})," file to configure the set of engines to test against, instead of enumerating them in every individual test."]}),"\n",(0,s.jsxs)(t.p,{children:["Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/awanlin",children:"@awanlin"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/21510",children:"#21510"})]}),"\n",(0,s.jsxs)(t.h3,{id:"unifiedtheme-now-supports-overrides",children:[(0,s.jsx)(t.code,{children:"UnifiedTheme"})," Now Supports Overrides"]}),"\n",(0,s.jsxs)(t.p,{children:["You can now supply overrides for Backstage components when using ",(0,s.jsx)(t.code,{children:"createUnifiedTheme"}),". We've updated the demo site\u2019s Aperture theme to work with this and you can see the code for that ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/demo/blob/402cbb358cddacd59b339580bef0a4c5c2c7e013/packages/app/src/theme/aperture.ts#L85",children:"here"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["If you are switching from the old way of defining a theme to ",(0,s.jsx)(t.code,{children:"createUnifiedTheme"}),", note that it uses the MUI v5 overrides format. The style overrides are now nested in a ",(0,s.jsx)(t.code,{children:"styleOverrides"})," key, and if you want access to the theme you\u2019ll need to use a callback:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"BackstageHeaderTabs: {\n  styleOverrides: {\n    defaultTab: {\n      textTransform: 'none',\n    },\n  },\n},\nMuiChip: {\n  styleOverrides: {\n    root: ({ theme }) => ({\n      color: theme.palette.primary.dark,\n    }),\n  },\n},\n"})}),"\n",(0,s.jsx)(t.h3,{id:"catalog-pagination",children:"Catalog pagination"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"CatalogIndexPage"})," now offers an optional pagination feature, designed to accommodate adopters managing extensive catalogs. This new capability allows for better handling of large amounts of data."]}),"\n",(0,s.jsxs)(t.p,{children:["To activate the pagination mode, simply update your ",(0,s.jsx)(t.code,{children:"App.tsx"})," as follows:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-diff",children:'  const routes = (\n    <FlatRoutes>\n      ...\n-     <Route path="/catalog" element={<CatalogIndexPage />} />\n+     <Route path="/catalog" element={<CatalogIndexPage pagination />} />\n      ...\n'})}),"\n",(0,s.jsxs)(t.p,{children:["In case you have a custom catalog page and you want to enable pagination, you need to pass the ",(0,s.jsx)(t.code,{children:"pagination"})," prop to ",(0,s.jsx)(t.code,{children:"EntityListProvider"})," instead. For now both column sorting and search filtering are still done locally, meaning they only apply to each individual page. This is something we will improve in the future and we still wanted to make this feature available early as it can greatly improve the performance of the catalog page."]}),"\n",(0,s.jsx)(t.h3,{id:"azure-devops-multi-org-support",children:"Azure DevOps Multi-Org Support"}),"\n",(0,s.jsxs)(t.p,{children:["The Azure DevOps plugin now has multi-org support and there is a new processor to help with adding the needed annotations. Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/awanlin",children:"@awanlin"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/issues/19622",children:"#19622"})]}),"\n",(0,s.jsx)(t.h3,{id:"new-authentication-providers",children:"New Authentication providers"}),"\n",(0,s.jsxs)(t.p,{children:["A new Atlassian authentication provider has been added to ",(0,s.jsx)(t.code,{children:"@backstage/plugin-auth-backend"}),". Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/handsamtw",children:"@handsamtw"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/21007",children:"#21007"})]}),"\n",(0,s.jsxs)(t.p,{children:["A new VMware Cloud authentication provider has been added to ",(0,s.jsx)(t.code,{children:"@backstage/plugin-auth-backend"}),". Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/luchillo17",children:"@luchillo17"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/21337",children:"#21337"})]}),"\n",(0,s.jsx)(t.h3,{id:"kubernetes-single-cluster-selection",children:"Kubernetes single cluster selection"}),"\n",(0,s.jsxs)(t.p,{children:["You can now select a ",(0,s.jsx)(t.code,{children:"single"})," kubernetes cluster that the entity is part of from all your defined kubernetes clusters, by providing the ",(0,s.jsx)(t.code,{children:"backstage.io/kubernetes-cluster"})," annotation with the defined cluster name."]}),"\n",(0,s.jsx)(t.p,{children:"If you do not specify the annotation then by default it fetches all defined kubernetes clusters."}),"\n",(0,s.jsxs)(t.p,{children:["To apply, update your ",(0,s.jsx)(t.code,{children:"catalog-info.yaml"}),"as follows:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-diff",children:" metadata:\n   annotations:\n     'backstage.io/kubernetes-id': dice-roller\n     'backstage.io/kubernetes-namespace': dice-space\n+    'backstage.io/kubernetes-cluster': dice-cluster\n     'backstage.io/kubernetes-label-selector': 'app=my-app,component=front-end'\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/deepan10",children:"@deepan10"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/20954",children:"#20954"})]}),"\n",(0,s.jsx)(t.h3,{id:"breaking-repo-tools-generated-api-reports-path-changes",children:"BREAKING: Repo tools generated API Reports path changes"}),"\n",(0,s.jsxs)(t.p,{children:["API Reports generated for sub-path exports now place the name as a suffix rather than prefix, for example ",(0,s.jsx)(t.code,{children:"api-report-alpha.md"})," instead of ",(0,s.jsx)(t.code,{children:"alpha-api-report.md"}),". When upgrading to this version you'll need to re-create any such API reports and delete the old ones."]}),"\n",(0,s.jsx)(t.h3,{id:"pagerduty-plugin-changes-home-",children:"PagerDuty plugin changes home \ud83c\udfe1"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.a,{href:"https://www.pagerduty.com/",children:"PagerDuty"})," plugin has been marked as deprecated in favor of ",(0,s.jsx)(t.a,{href:"https://github.com/pagerduty/backstage-plugin",children:"pagerduty/backstage-plugin"})," which is maintained by PagerDuty themselves! We encourage you to ",(0,s.jsx)(t.a,{href:"https://pagerduty.github.io/backstage-plugin-docs/migration/",children:"migrate to @pagerduty/backstage-plugin"})," in order to receive future updates."]}),"\n",(0,s.jsx)(t.p,{children:"Congrats to the PagerDuty folks for taking ownership of the plugin \ud83d\udc4f"}),"\n",(0,s.jsxs)(t.p,{children:["Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/t1agob",children:"@t1agob"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/21436",children:"#21436"})]}),"\n",(0,s.jsx)(t.h2,{id:"security-fixes",children:"Security Fixes"}),"\n",(0,s.jsx)(t.p,{children:"This release does not contain any security fixes."}),"\n",(0,s.jsx)(t.h2,{id:"upgrade-path",children:"Upgrade path"}),"\n",(0,s.jsxs)(t.p,{children:["We recommend that you keep your Backstage project up to date with this latest release. For more guidance on how to upgrade, check out the documentation for ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/getting-started/keeping-backstage-updated",children:"keeping Backstage updated"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"links-and-references",children:"Links and References"}),"\n",(0,s.jsx)(t.p,{children:"Below you can find a list of links and references to help you learn about and start using this new release."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://backstage.io/",children:"Backstage official website"}),", ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/",children:"documentation"}),", and ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/getting-started/",children:"getting started guide"})]}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage",children:"GitHub repository"})}),"\n",(0,s.jsxs)(t.li,{children:["Backstage's ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/overview/versioning-policy",children:"versioning and support policy"})]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://discord.gg/backstage-687207715902193673",children:"Community Discord"})," for discussions and support"]}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/tree/master/docs/releases/v1.21.0-changelog.md",children:"Changelog"})}),"\n",(0,s.jsxs)(t.li,{children:["Backstage ",(0,s.jsx)(t.a,{href:"https://backstage.io/demos",children:"Demos"}),", ",(0,s.jsx)(t.a,{href:"https://backstage.io/blog",children:"Blog"}),", ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/overview/roadmap",children:"Roadmap"})," and ",(0,s.jsx)(t.a,{href:"https://backstage.io/plugins",children:"Plugins"})]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["Sign up for our ",(0,s.jsx)(t.a,{href:"https://info.backstage.spotify.com/newsletter_subscribe",children:"newsletter"})," if you want to be informed about what is happening in the world of Backstage."]})]})}function d(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},675251:(e,t,a)=>{var s=a(667294),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,a){var s,i={},c=null,h=null;for(s in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(h=t.ref),t)r.call(t,s)&&!l.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===i[s]&&(i[s]=t[s]);return{$$typeof:n,type:e,key:c,ref:h,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},785893:(e,t,a)=>{e.exports=a(675251)},511151:(e,t,a)=>{a.d(t,{Z:()=>o,a:()=>r});var s=a(667294);const n={},i=s.createContext(n);function r(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);